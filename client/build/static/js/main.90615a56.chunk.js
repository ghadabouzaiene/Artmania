(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{114:function(e,t,a){"use strict";a.r(t),a.d(t,"START_LOADING",function(){return n}),a.d(t,"STOP_LOADING",function(){return r}),a.d(t,"SET_ERROR",function(){return l}),a.d(t,"CLEAR_ERROR",function(){return c});var n="START_LOADING",r="STOP_LOADING",l="SET_ERROR",c="CLEAR_ERROR"},216:function(e,t,a){},218:function(e,t,a){},281:function(e,t,a){e.exports=a(340)},286:function(e,t,a){},287:function(e,t,a){},312:function(e,t,a){},316:function(e,t,a){},319:function(e,t,a){},335:function(e,t,a){},336:function(e,t,a){},337:function(e,t,a){},338:function(e,t,a){},339:function(e,t,a){},340:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(28),c=a.n(l),o=(a(286),a(287),a(36)),i=a(27),s=a(37),u=a(7),m=a(24),d=a(33),p=a.n(d),f=a(47),E=a(81),g=a.n(E),h="http://localhost:5000",b=function(){var e=localStorage.getItem("token");e?g.a.defaults.headers.common["auth-token"]=e:delete g.a.defaults.headers.common["auth-token"]},v=a(114),y=v.START_LOADING,O=v.STOP_LOADING,w=v.SET_ERROR,S=v.CLEAR_ERROR,j=function(e){return{type:y,payload:e}},N=function(){return{type:O}},k=function(e){return{type:w,payload:e}},x=function(){return{type:S}},C=function(e){return function(){var t=Object(f.a)(p.a.mark(function t(a){var n;return p.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return a(x()),a(j("Register")),t.prev=2,t.next=5,g.a.post("".concat(h,"/api/user/register"),e);case 5:n=t.sent,a({type:"REGISTER_SUCCESS",payload:n.data}),a(N()),a(A()),t.next=15;break;case 11:t.prev=11,t.t0=t.catch(2),a(k(t.t0.response.data.errors)),a(N());case 15:case"end":return t.stop()}},t,null,[[2,11]])}));return function(e){return t.apply(this,arguments)}}()},A=function(){return function(){var e=Object(f.a)(p.a.mark(function e(t){var a,n;return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t(x()),t(j("Get my profile")),e.prev=2,b(),e.next=6,g.a.get("".concat(h,"/api/user/getprofile"));case 6:a=e.sent,n=a.data,t({type:"GET_PROFILE_SUCCESS",payload:n}),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(2),t(N()),t(k(e.t0.response.data.errors));case 15:case"end":return e.stop()}},e,null,[[2,11]])}));return function(t){return e.apply(this,arguments)}}()},R=(a(312),function(){var e=Object(n.useState)({email:"",password:""}),t=Object(u.a)(e,2),a=t[0],l=t[1],c=Object(m.c)(function(e){return e.auth}),d=Object(m.b)(),E=Object(i.g)();return Object(n.useEffect)(function(){c.isAuth&&E.push("/profile")},[c.isAuth,E]),r.a.createElement("div",null,r.a.createElement("div",{class:"wrapper"},r.a.createElement("div",{class:"loginContainer"},r.a.createElement("div",{class:"fixalign logindiv input-icons"},r.a.createElement("form",{action:"",method:"POST",onSubmit:function(e){e.preventDefault(),d(function(e){return function(){var t=Object(f.a)(p.a.mark(function t(a){var n;return p.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return a(x()),a(j("Login")),t.prev=2,t.next=5,g.a.post("".concat(h,"/api/user/login"),e);case 5:n=t.sent,a({type:"LOGIN_SUCCESS",payload:n.data}),a(N()),a(A()),t.next=15;break;case 11:t.prev=11,t.t0=t.catch(2),a(k(t.t0.response.data.errors)),a(N());case 15:case"end":return t.stop()}},t,null,[[2,11]])}));return function(e){return t.apply(this,arguments)}}()}(a))}},r.a.createElement("h1",null,"Login"),r.a.createElement("p",null,"Please fill in your basic info"),r.a.createElement("label",{for:"email"}),r.a.createElement("div",{class:"field"},r.a.createElement("span",{class:"iconField"},r.a.createElement("i",{class:"fas fa-user"})),r.a.createElement("span",{className:"inputField"},r.a.createElement("input",{className:"nodiv usernamesize",type:"email",style:{alignSelf:"center"},placeholder:"email",onChange:function(e){return l(Object(s.a)({},a,{email:e.target.value}))}}),r.a.createElement("br",null))),r.a.createElement("div",{className:"field"}," ",r.a.createElement("label",{for:"password"}),r.a.createElement("i",{class:"fa fa-key"}),r.a.createElement("input",{className:"nodiv passwordsize",type:"password",style:{alignSelf:"center"},placeholder:"password",onChange:function(e){return l(Object(s.a)({},a,{password:e.target.value}))}}),r.a.createElement("br",null),r.a.createElement("div",{className:"login-forgot-div"},r.a.createElement("input",{type:"submit",name:"submit",value:"LOGIN",className:"nodiv onlylogin"}),r.a.createElement("a",{href:"",class:"highlight"},"forgot password?"))))),r.a.createElement("div",{className:"fixalign textalign"},r.a.createElement("h2",null,"Sign up Now"),r.a.createElement("br",null),r.a.createElement("p",null,"You don't have an account yet? No Worries! Create one , Free Regiter in one Click!"),r.a.createElement(o.b,{to:"/register"}," ",r.a.createElement("input",{type:"submit",name:"submit",value:"REGISTER NOW",className:"onlylogin register"})),r.a.createElement(o.b,{to:"/"}," ",r.a.createElement("input",{type:"submit",name:"submit",value:"HOME",className:"onlylogin register"}))))),r.a.createElement("div",{class:"wrapper loading-screen"},r.a.createElement("h2",{id:"loading"},"Loading Login...Please wait.")))});a(316);function T(){var e=Object(i.g)(),t=Object(m.c)(function(e){return e.auth}),a=Object(m.b)(),l=Object(n.useState)({firstname:"",email:"",password:""}),c=Object(u.a)(l,2),d=c[0],p=c[1];Object(n.useEffect)(function(){t.isAuth&&e.push("/login")},[t.isAuth,e]);return r.a.createElement("div",null,r.a.createElement("div",{class:"registerwrapper"},r.a.createElement("div",{class:"registerContainer"},r.a.createElement("div",{class:"fixalign registerdiv input-icons"},r.a.createElement("form",{action:"",method:"POST",onSubmit:function(e){e.preventDefault(),a(C(d))}},r.a.createElement("h1",null,"Register"),r.a.createElement("p",null,"Please fill in your basic info"),r.a.createElement("label",{for:"username"}),r.a.createElement("div",{class:"field"},r.a.createElement("span",{class:"iconField"},r.a.createElement("i",{class:"fas fa-align-center"})),r.a.createElement("span",{className:"inputField"},r.a.createElement("input",{className:"nodiv usernamesize",type:"text",style:{alignSelf:"center"},placeholder:"firstname",onChange:function(e){return p(Object(s.a)({},d,{firstname:e.target.value}))}}),r.a.createElement("br",null))),r.a.createElement("label",{for:"email"}),r.a.createElement("div",{class:"field"},r.a.createElement("span",{class:"iconField"},r.a.createElement("i",{class:"fas fa-user"})),r.a.createElement("span",{className:"inputField"},r.a.createElement("input",{className:"nodiv usernamesize",type:"email",style:{alignSelf:"center"},placeholder:"email",onChange:function(e){return p(Object(s.a)({},d,{email:e.target.value}))}}),r.a.createElement("br",null))),r.a.createElement("div",{className:"field"}," ",r.a.createElement("label",{for:"password"}),r.a.createElement("i",{class:"fa fa-key"}),r.a.createElement("input",{className:"nodiv passwordsize",type:"password",style:{alignSelf:"center"},placeholder:"password",onChange:function(e){return p(Object(s.a)({},d,{password:e.target.value}))}}),r.a.createElement("br",null),r.a.createElement("div",{className:"login-forgot-div"},r.a.createElement("input",{type:"submit",name:"submit",value:"REGISTER",className:"nodiv onlylogin"}),r.a.createElement("a",{href:"",className:"highlight"},"forgot password?"))))),r.a.createElement("div",{className:"fixalignreg textalignreg"},r.a.createElement("h2",null,"You'll be redirected to login once you register "),r.a.createElement("br",null),r.a.createElement("p",null,"Or"),r.a.createElement(o.b,{to:"/"}," ",r.a.createElement("input",{type:"submit",name:"submit",value:" GO HOME ",className:"onlylogin register"}))))),r.a.createElement("div",{class:"wrapper loading-screen"},r.a.createElement("h2",{id:"loading"},"Loading Register...Please wait.")))}var _=a(443),I=a(226),F=a.n(I),L=a(439),P=a(438),B=a(444),G=a(422),z=a(431),D=a(432),U=a(60),W=(a(319),a(222)),M=a.n(W);var Y=function(e){var t=e.doc;return r.a.createElement("div",{className:"card-details-conatiner"},r.a.createElement("img",{src:t.url,alt:t.story}),r.a.createElement("div",{className:"card-details-info"},r.a.createElement("p",null,"Story : ",t.story),r.a.createElement("p",null,"Tags : ",t.tags),r.a.createElement("p",null,"Author : ",t.author_name),r.a.createElement("span",null,"Created At : ",t.createdAt)))},J=a(65),H=a.n(J),V=(a(215),a(216),a(121));a(330),a(331),a(332);V.a.initializeApp({apiKey:"AIzaSyB_39yNEcwyF5ZYQ8z46YCaWizizP25H3w",authDomain:"gallery-90ce1.firebaseapp.com",projectId:"gallery-90ce1",storageBucket:"gallery-90ce1.appspot.com",messagingSenderId:"385154993734",appId:"1:385154993734:web:e03ae88f54062ef112c447",measurementId:"G-QCYJJT2C1K"});V.a.database();var K=V.a.storage(),q=V.a.firestore(),Q=(V.a.firestore.FieldValue.serverTimestamp,function(e){var t=Object(n.useState)([]),a=Object(u.a)(t,2),r=a[0],l=a[1];return Object(n.useEffect)(function(){var t=q.collection(e).orderBy("createdAt").onSnapshot(function(e){var t=[];e.forEach(function(e){t.push(Object(s.a)({},e.data(),{id:e.id}))}),l(t)});return function(){return t()}},[e]),{docs:r}}),Z=a(224),X=a.n(Z),$=a(225),ee=a.n($);var te=function(e){var t=e.posts,a=e.likedPhotos,l=e.display,c=Object(i.g)(),s=Object(m.c)(function(e){return e.auth}),d=Q("images").docs,p=Object(n.useState)(!1),f=Object(u.a)(p,2),E=f[0],g=f[1],h=Object(n.useState)({id:"",story:"",url:"",timeStamp:null,author_name:"",tags:null,likes:null}),b=Object(u.a)(h,2),v=b[0],y=b[1],O=Object(n.useState)(!1),w=Object(u.a)(O,2),S=w[0],j=w[1],N=function(){j(!S)};return r.a.createElement("div",null,r.a.createElement("div",{key:t.id,className:"gallery-profile"},r.a.createElement("img",{onClick:function(){N(),y({id:t.id,story:t.story,url:t.url,timeStamp:t.createdAt,author_name:t.author_name,tags:t.tags,likes:t.likes})},src:t.url,alt:t.story}),r.a.createElement("div",{className:"post-icons"},s.isAuth?r.a.createElement(P.a,{sx:{"& > :not(style)":{m:1}}},r.a.createElement(o.b,{to:{pathname:"/edit/post/".concat(t.id),state:{posts:t.story}},onClick:function(){c.push("/edit/post/".concat(t.id)),window.location.reload()}},l?r.a.createElement("span",null):r.a.createElement(_.a,{size:"small","aria-label":"edit",onClick:function(){y({id:t.id,story:t.story,url:t.url,timeStamp:t.createdAt,author_name:t.author_name,tags:t.tags,likes:t.likes})}},r.a.createElement(X.a,null))),l?r.a.createElement(o.b,{to:"/profile/".concat(t.author),onClick:function(){c.push("/profile/".concat(t.author)),window.location.reload()}},r.a.createElement(_.a,{size:"small","aria-label":"edit"},r.a.createElement("i",{style:{color:"white"},class:"fas fa-user"}))):r.a.createElement("span",null),!0===E||!0===a.includes(t.id)?r.a.createElement(_.a,{size:"small",onClick:function(){return e=t.id,q.collection("images").doc(e).update({likes:U.a.firestore.FieldValue.arrayRemove(s.user._id)}),void g(!1);var e}},r.a.createElement("i",{style:{color:"rgb(236, 0, 130)",fontSize:"1.3rem"},className:"fas fa-heart"})):r.a.createElement(_.a,{size:"small",onClick:function(){return e=t.id,q.collection("images").doc(e).update({likes:U.a.firestore.FieldValue.arrayUnion(s.user._id)}),void g(!0);var e}},r.a.createElement("i",{style:{fontSize:"1.3rem"},className:"far fa-heart"})),r.a.createElement("br",null),l?r.a.createElement("span",null):r.a.createElement(_.a,{size:"small",onClick:function(){var e;e=t.id,H.a.fire({title:"Are you sure?",icon:"warning",showCancelButton:!0,buttonsStyling:!0,confirmButtonColor:"#FF6767",cancelButtonColor:"#d33",confirmButtonText:"Yes, delete it!"}).then(function(t){t.isConfirmed&&q.collection("images").doc(e).delete().then(function(){console.log("Document successfully deleted!"),H.a.fire({position:"center",title:"Photo successfully deleted!",icon:"success",buttonsStyling:!0,confirmButtonColor:"#FF6767",cancelButtonColor:"#d33",timer:1500})}).catch(function(e){console.error("Error removing document: ",e),H.a.fire({position:"center",title:"There has been an error!",icon:"warning",buttonsStyling:!0,cancelButtonColor:"#d33",timer:1500})})})}},r.a.createElement(ee.a,null))):r.a.createElement("span",null)),r.a.createElement("div",{className:"post-info"},r.a.createElement("div",{className:"lower-post"},r.a.createElement("div",{className:"time"},r.a.createElement("span",{style:{fontSize:"1rem"}},M()(t.createdAt).fromNow()))),r.a.createElement("div",{className:"post-info-top"},r.a.createElement("span",{style:{fontSize:"1rem"}},t.likes.length," likes "),r.a.createElement("p",{className:"post-title"},t.story.substring(0,40),". . ."),r.a.createElement("p",{className:"post-title"},t.author_name.substring(0,40),". . ."),r.a.createElement("button",{className:"btn-read-more",onClick:function(){N(),y({id:t.id,story:t.story,url:t.url,timeStamp:t.createdAt,tags:t.tags,likes:t.likes})}},"Show Info..")))),d&&v&&d.length>0?r.a.createElement("div",{key:v.id,className:S?"modal active":"modal"},r.a.createElement("div",{className:"modal-content"},r.a.createElement("span",{className:"close",onClick:function(){j(!1)}},r.a.createElement("i",{className:"far fa-times-circle"})),r.a.createElement(Y,{doc:v,projectFirestore:q,firebase:U.a,auth:s}))):"")},ae=a(448),ne=function(e){var t=Object(n.useState)(0),a=Object(u.a)(t,2),r=a[0],l=a[1],c=Object(n.useState)(null),o=Object(u.a)(c,2),i=o[0],s=o[1],d=Object(n.useState)(null),E=Object(u.a)(d,2),g=E[0],h=E[1],b=Object(m.c)(function(e){return e.auth});return Object(n.useEffect)(function(){var t=K.ref(e.name),a=q.collection("profile pictures");t.put(e).on("state_changed",function(e){var t=e.bytesTransferred/e.totalBytes*100;l(t)},function(e){s(e)},Object(f.a)(p.a.mark(function n(){var r,l,c,o,i;return p.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return r=Date.now(),n.next=3,t.getDownloadURL();case 3:return l=n.sent,c=new Intl.DateTimeFormat("default",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"}).format(r),o=e.name,i=b.user._id,n.next=9,a.add({url:l,createdAt:c,name:o,owner:i});case 9:h(l);case 10:case"end":return n.stop()}},n)})))},[e,b.user]),{progress:r,url:g,error:i}},re=function(e){var t=e.file,a=e.setFile,l=ne(t),c=l.progress,o=l.url;return Object(n.useEffect)(function(){o&&(a(null),100===c&&window.location.reload())},[o,a]),r.a.createElement(P.a,{sx:{width:"100%"}},r.a.createElement(ae.a,{variant:"determinate",value:c}))},le=a(11),ce=a(449),oe=a(147),ie=a.n(oe),se=Object(le.a)("input")({display:"none"}),ue=function(e){e.profile;var t=Object(n.useState)(null),a=Object(u.a)(t,2),l=a[0],c=a[1],o=Object(n.useState)(null),i=Object(u.a)(o,2),s=i[0],m=i[1],d=["image/png","image/jpeg"];return r.a.createElement("form",null,r.a.createElement("label",{htmlFor:"icon-button-file"},r.a.createElement(se,{accept:"image/*",id:"icon-button-file",type:"file",onChange:function(e){var t=e.target.files[0];console.log(t),t&&d.includes(t.type)?(c(t),m("")):(c(null),m("Please select an image file (png or jpg)"),console.log(s))}}),r.a.createElement(ce.a,{color:"primary","aria-label":"upload picture",component:"span"},r.a.createElement(ie.a,null))),r.a.createElement("div",{className:"output"},l&&r.a.createElement(re,{key:"progress-bar",file:l,setFile:c})))},me=function(e){e.match;var t=Object(i.g)(),a=Object(m.c)(function(e){return e.auth}),r=Object(m.b)(),l=U.a.firestore().collection("images"),c=U.a.firestore().collection("profile pictures"),s=Q("images").docs.filter(function(e){return e.author===a.user._id}),d=n.useState(""),E=Object(u.a)(d,2),g=E[0],h=E[1],b=n.useState([]),v=Object(u.a)(b,2),y=v[0],O=v[1],w=n.useState(""),S=Object(u.a)(w,2),j=S[0],N=S[1],k=n.useState("1"),x=Object(u.a)(k,2),C=x[0],A=x[1];n.useEffect(Object(f.a)(p.a.mark(function e(){var t,n;return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!a||!a.user){e.next=15;break}return h("Loading..."),e.next=4,l.where("likes","array-contains",a.user._id).get().then(function(e){return e.docs.map(function(e){return e.id})});case 4:return t=e.sent,console.log("hit",t),h(JSON.stringify(t,null,4)),O(t),console.log(g),e.next=11,c.where("owner","==",a.user._id).orderBy("createdAt","desc").limit(1).get().then(function(e){return e.docs.map(function(e){return e.data()})});case 11:n=e.sent,console.log(n),0===n.length?N(""):N(n[0].url),console.log(y);case 15:case"end":return e.stop()}},e)})),[]);return n.createElement("div",null,n.createElement("div",{className:"profile-container"},n.createElement("div",{className:"description"}," ",a.user?n.createElement("span",null,n.createElement(L.a,{style:{boxShadow:"0px 5px 5px 0px"},className:"avatar",alt:"Remy Sharp",src:j,sx:{width:200,height:200}}),n.createElement(ue,null),n.createElement("h1",null,"Welcome, ",a.user.firstname)):n.createElement("div",null)),n.createElement(P.a,{sx:{width:"100%",typography:"body1"}},n.createElement(G.a,{value:C},n.createElement(P.a,{sx:{borderBottom:1,borderColor:"divider"}},n.createElement(z.a,{onChange:function(e,t){A(t)},"aria-label":"lab API tabs example"},n.createElement(B.a,{label:"Uploads",value:"1"}),n.createElement(B.a,{label:"Favorite",value:"2"}),n.createElement(B.a,{label:"Collections",value:"3"}))),n.createElement(D.a,{value:"1"},n.createElement("div",{className:"gallery"},s&&0!==s.length?s.map(function(e){return n.createElement(te,{key:e.id,posts:e,likedPhotos:y,display:!1})}):n.createElement("div",null," No Uploads Yet")," ")),n.createElement(D.a,{value:"3"},"This Feature is not functional yet"))),n.createElement("div",{className:"add-btn"},n.createElement(o.b,{to:"/addphoto",onClick:function(){t.push("/addphoto"),window.location.reload()}},n.createElement(_.a,{color:"primary","aria-label":"add"},n.createElement(F.a,null))),n.createElement(o.b,null,n.createElement(_.a,{color:"secondary","aria-label":"out",onClick:function(){r({type:"LOGOUT"})}},n.createElement("i",{className:"fas fa-sign-out-alt"}))),n.createElement(o.b,{to:"/",onClick:function(){t.push("/"),window.location.reload()}},n.createElement(_.a,{color:"secondary","aria-label":"home"},n.createElement("i",{className:"fas fa-home"}))))))},de=a(435),pe=function(e){var t=Object(n.useState)(0),a=Object(u.a)(t,2),r=a[0],l=a[1],c=Object(n.useState)(null),o=Object(u.a)(c,2),i=o[0],s=o[1],d=Object(n.useState)(null),E=Object(u.a)(d,2),g=E[0],h=E[1],b=Object(m.c)(function(e){return e.auth});return Object(n.useEffect)(function(){var t=K.ref(e.name),a=q.collection("images");t.put(e).on("state_changed",function(e){var t=e.bytesTransferred/e.totalBytes*100;l(t)},function(e){s(e)},Object(f.a)(p.a.mark(function n(){var r,l,c,o,i,s,u,m;return p.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return r=Date.now(),n.next=3,t.getDownloadURL();case 3:return l=n.sent,c=new Intl.DateTimeFormat("en-US",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"}).format(r),o=b.user._id,i=b.user.firstname,s=[],u=e.name,m=[],n.next=13,a.add({url:l,createdAt:c,author:o,story:"",tags:s,name:u,author_name:i,likes:m});case 13:h(l);case 14:case"end":return n.stop()}},n)})))},[e,b.user]),{progress:r,url:g,error:i}},fe=function(e){var t=e.file,a=e.setFile,l=pe(t),c=l.progress,o=l.url,i=r.a.useState(10),s=Object(u.a)(i,2),m=s[0],d=s[1];return Object(n.useEffect)(function(){if(o){a(null);var e=10*Math.random(),t=10*Math.random();d(c+e+t)}},[o,a]),r.a.createElement(P.a,{sx:{width:"100%"}},r.a.createElement(ae.a,{variant:"buffer",value:c,valueBuffer:m}))},Ee=Object(le.a)("input")({display:"none"}),ge=function(){var e=Q("images").docs,t=Object(n.useState)(null),a=Object(u.a)(t,2),l=a[0],c=a[1],o=Object(n.useState)(null),i=Object(u.a)(o,2),s=i[0],m=i[1];console.log(e);var d=["image/png","image/jpeg"];return r.a.createElement("form",null,r.a.createElement("label",{htmlFor:"icon-button-file"},r.a.createElement(Ee,{accept:"image/*",id:"icon-button-file",type:"file",onChange:function(e){var t=e.target.files[0];console.log(t),t&&d.includes(t.type)?(c(t),m("")):(c(null),m("Please select an image file (png or jpg)"))}}),r.a.createElement(ce.a,{color:"primary","aria-label":"upload picture",component:"span"},r.a.createElement(ie.a,null))),r.a.createElement("div",{className:"output"},s&&r.a.createElement("div",{className:"error"},s),l&&r.a.createElement("div",null,l.name),l&&r.a.createElement(fe,{key:"progress-bar",file:l,setFile:c})))},he=a(440),be=a(43),ve=a(436),ye=a(442),Oe=a(445),we=a(433),Se=a(441),je=(a(218),{PaperProps:{style:{maxHeight:224,width:250}}}),Ne=["nature","friends","wedding","love","books","desktop","old","black and white","girls","fashin","photography","anime","cartoon","life","rain","night","snow","food","gaming","sea","city","countryside","mountains","kids","new born","celebration","home"];function ke(e,t,a){return{fontWeight:-1===t.indexOf(e)?a.typography.fontWeightRegular:a.typography.fontWeightMedium}}var xe=function(){var e=Object(i.g)(),t=Q("images").docs,a=Object(n.useState)(""),l=Object(u.a)(a,2),c=l[0],o=l[1],s=Object(be.a)(),m=r.a.useState([]),d=Object(u.a)(m,2),p=d[0],f=d[1];return console.log(t),r.a.createElement("div",{className:"add-photo-container"},r.a.createElement("div",{className:"adding"},r.a.createElement("h1",null,"Add  your Photo Info.."),r.a.createElement("div",{className:"edit-post-container"},r.a.createElement("div",{className:"break"}),r.a.createElement("form",{onSubmit:function(e){e.preventDefault()}},r.a.createElement("div",null,r.a.createElement(ge,null),r.a.createElement("br",null)," ",r.a.createElement(de.a,{helperText:"Please enter the photo story",id:"demo-helper-text-aligned",label:"Story",onChange:function(e){o(e.target.value),console.log(c)}}),r.a.createElement(Oe.a,{sx:{m:1,width:300}},r.a.createElement(ve.a,{id:"demo-multiple-chip-label"},"Tags"),r.a.createElement(we.a,{labelId:"demo-multiple-chip-label",id:"demo-multiple-chip",multiple:!0,value:p,onChange:function(e){var t=e.target.value;f("string"===typeof t?t.split(","):t)},input:r.a.createElement(he.a,{id:"select-multiple-chip",label:"Tags"}),renderValue:function(e){return r.a.createElement(P.a,{sx:{display:"flex",flexWrap:"wrap",gap:.5}},e.map(function(e){return r.a.createElement(Se.a,{key:e,label:e})}))},MenuProps:je},Ne.map(function(e){return r.a.createElement(ye.a,{key:e,value:e,style:ke(e,p,s)},e)}))),r.a.createElement("button",{className:"btn",onClick:function(){H.a.fire({title:"Done? ",icon:"warning",showCancelButton:!0,buttonsStyling:!0,confirmButtonColor:"#FF6767",cancelButtonColor:"#d33",confirmButtonText:"Yes, Add it!"}).then(function(a){if(a.isConfirmed){var n=t.length-1;console.log(n);var r=t[n].id;q.collection("images").doc(r).update({story:c,tags:p}),H.a.fire({position:"center",title:"Added!",icon:"success",buttonsStyling:!0,confirmButtonColor:"#FF6767",cancelButtonColor:"#d33",timer:3500}),e.push("/profile")}else H.a.fire({position:"center",title:"Canceled!",icon:"warning",buttonsStyling:!0,cancelButtonColor:"#d33",timer:1500})})}},"Add"))))),r.a.createElement("div",{className:"side-image"}))},Ce={PaperProps:{style:{maxHeight:224,width:250}}},Ae=["nature","friends","wedding","love","books","desktop","old","black and white","girls","fashin","photography","anime","cartoon","life","rain","night","snow","food","gaming","sea","city","countryside","mountains","kids","new born","celebration","home"];function Re(e,t,a){return{fontWeight:-1===t.indexOf(e)?a.typography.fontWeightRegular:a.typography.fontWeightMedium}}var Te=function(e){var t=e.match,a=Object(i.g)(),l=Q("images").docs,c=Object(n.useState)(""),o=Object(u.a)(c,2),s=o[0],m=o[1];console.log(l);var d=Object(be.a)(),p=r.a.useState([]),f=Object(u.a)(p,2),E=f[0],g=f[1];return r.a.createElement("div",{className:"add-photo-container"},r.a.createElement("div",{className:"adding"},r.a.createElement("h1",null,"Edit your Photo Info.."),r.a.createElement("div",{className:"edit-post-container"},r.a.createElement("div",{className:"break"}),r.a.createElement("form",{onSubmit:function(e){e.preventDefault()}},r.a.createElement("div",null,r.a.createElement(ge,null),r.a.createElement(de.a,{helperText:"Please enter the photo story",id:"demo-helper-text-aligned",label:"Story",onChange:function(e){m(e.target.value),console.log(s)}}),r.a.createElement(Oe.a,{sx:{m:1,width:300}},r.a.createElement(ve.a,{id:"demo-multiple-chip-label"},"Tags"),r.a.createElement(we.a,{labelId:"demo-multiple-chip-label",id:"demo-multiple-chip",multiple:!0,value:E,onChange:function(e){var t=e.target.value;g("string"===typeof t?t.split(","):t)},input:r.a.createElement(he.a,{id:"select-multiple-chip",label:"Tags"}),renderValue:function(e){return r.a.createElement(P.a,{sx:{display:"flex",flexWrap:"wrap",gap:.5}},e.map(function(e){return r.a.createElement(Se.a,{key:e,label:e})}))},MenuProps:Ce},Ae.map(function(e){return r.a.createElement(ye.a,{key:e,value:e,style:Re(e,E,d)},e)}))),r.a.createElement("button",{className:"btn",onClick:function(){0!==s.length&&0!==E.length?H.a.fire({title:"Are you sure? Only new tags are admitted...",icon:"warning",showCancelButton:!0,buttonsStyling:!0,confirmButtonColor:"#FF6767",cancelButtonColor:"#d33",confirmButtonText:"Yes, Update it!"}).then(function(e){e.isConfirmed?(q.collection("images").doc(t.params.id).update({story:s,tags:E}),H.a.fire({position:"center",title:"Done",icon:"success",buttonsStyling:!0,confirmButtonColor:"#FF6767",cancelButtonColor:"#d33",timer:3500}),a.push("/profile")):H.a.fire({position:"center",title:"Canceled!",icon:"warning",buttonsStyling:!0,cancelButtonColor:"#d33",timer:1500})}):alert("fill all mendatory blanks")}},"Add"))))),r.a.createElement("div",{className:"side-image"}))},_e=(a(335),function(){var e=Object(m.c)(function(e){return e.auth}),t=Object(m.b)(),a=Q("images").docs.sort(function(e,t){return t.likes-e.likes})[0];console.log(a);return r.a.createElement("div",null,r.a.createElement("div",{classname:"header"},r.a.createElement("section",{className:"showcase"},r.a.createElement("header",null,r.a.createElement("h2",{className:"logo"},"Artmania"),r.a.createElement("input",{type:"checkbox",id:"menyAvPaa"}),r.a.createElement("label",{id:"burger",for:"menyAvPaa"},r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null)),r.a.createElement("nav",{id:"meny"},r.a.createElement("div",{className:"menu"},r.a.createElement("ul",null,e&&e.user?r.a.createElement(o.b,{className:"menu-list",onClick:function(){return t({type:"LOGOUT"}),void window.location.reload()}},"LOGOUT"):r.a.createElement("span",null),r.a.createElement(o.b,{className:"menu-list",to:"/samples"},"ARTWORK"),r.a.createElement(o.b,{className:"menu-list",to:"/profile"},"PROFILE"),r.a.createElement(o.b,{className:"menu-list",to:"/contact"},"CONTACT"))))),r.a.createElement("div",{className:"overlay"}),r.a.createElement("div",{className:"text"},r.a.createElement("h2",null,"Share your Art "),r.a.createElement("h3",null,"In the safest place"),r.a.createElement("p",null,"Every Artist needs a space where they can share their work free and without limitation for the world to see it, visitors can even contact you to offer work and collaborations."),e.isAuth?r.a.createElement("a",{href:"/profile"},"Get started"):r.a.createElement("a",{href:"/login"},"Get started"),r.a.createElement("br",null),r.a.createElement("br",null),e.user&&"admin"===e.user.role?r.a.createElement("a",{href:"/admin"},"welcome admin! "):r.a.createElement("div",null)),r.a.createElement("ul",{class:"social"},r.a.createElement("li",null,r.a.createElement("a",{href:"facebook.com"},r.a.createElement("img",{src:"https://i.ibb.co/x7P24fL/facebook.png",alt:""}))),r.a.createElement("li",null,r.a.createElement("a",{href:"twitter.com"},r.a.createElement("img",{src:"https://i.ibb.co/Wnxq2Nq/twitter.png",alt:""}))),r.a.createElement("li",null,r.a.createElement("a",{href:"instagram.com"},r.a.createElement("img",{src:"https://i.ibb.co/ySwtH4B/instagram.png",alt:""})))))))}),Ie=a(446),Fe=a(447),Le=function(){return function(){var e=Object(f.a)(p.a.mark(function e(t){var a,n;return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t(x()),t(j("Get Users")),e.prev=2,e.next=5,g.a.get("".concat(h,"/api/user/"));case 5:a=e.sent,n=a.data,t({type:"GET_USERS_SUCCESS",payload:n}),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(2),t(N()),t(k(e.t0.response.data.errors));case 14:case"end":return e.stop()}},e,null,[[2,10]])}));return function(t){return e.apply(this,arguments)}}()},Pe=a(437),Be=(a(336),a(235)),Ge=a(426),ze=a(425),De=a(430),Ue=a(229),We=a.n(Ue),Me=a(230),Ye=a.n(Me),Je=a(62),He=Object(Je.a)(n.createElement("path",{d:"M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"}),"Home"),Ve=function(){var e=Object(m.b)(),t=n.useState(null),a=Object(u.a)(t,2),r=a[0],l=a[1],c=Object(i.g)(),o=Boolean(r),s=function(){l(null)};return n.createElement(n.Fragment,null,n.createElement(P.a,{sx:{display:"flex",alignItems:"center",textAlign:"center"}},n.createElement(De.a,{title:"Account settings"},n.createElement(ce.a,{onClick:function(e){l(e.currentTarget)},size:"small",sx:{ml:2}},n.createElement(L.a,{sx:{width:32,height:32}},"M")))),n.createElement(Be.a,{anchorEl:r,open:o,onClose:s,onClick:s,PaperProps:{elevation:0,sx:{overflow:"visible",filter:"drop-shadow(0px 2px 8px rgba(0,0,0,0.32))",mt:1.5,"& .MuiAvatar-root":{width:32,height:32,ml:-.5,mr:1},"&:before":{content:'""',display:"block",position:"absolute",top:0,right:14,width:10,height:10,bgcolor:"background.paper",transform:"translateY(-50%) rotate(45deg)",zIndex:0}}},transformOrigin:{horizontal:"right",vertical:"top"},anchorOrigin:{horizontal:"right",vertical:"bottom"}},n.createElement(ye.a,{onClick:function(){c.push("/profile")}},n.createElement(L.a,null),"Profile"),n.createElement(ze.a,null),n.createElement(ye.a,{onClick:function(){c.push("/")}},n.createElement(Ge.a,null,n.createElement(He,null)),"Home"),n.createElement(ye.a,{onClick:function(){c.push("/samples")}},n.createElement(Ge.a,null,n.createElement(We.a,{fontSize:"small"})),"Artwork"),n.createElement(ye.a,{onClick:function(){e({type:"LOGOUT"})}},n.createElement(Ge.a,null,n.createElement(Ye.a,{fontSize:"small"})),"Logout")))},Ke=function(e){var t=e.match,a=Object(m.b)(),r=U.a.firestore().collection("images"),l=U.a.firestore().collection("profile pictures"),c=Object(m.c)(function(e){return e.users.allusers}).find(function(e){return e._id===t.params.id}),o=n.useState([]),i=Object(u.a)(o,2),s=i[0],d=i[1],E=n.useState(""),g=Object(u.a)(E,2),h=g[0],b=g[1];return n.useEffect(Object(f.a)(p.a.mark(function e(){var n,c;return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a(Le()),e.next=3,r.where("author","==",t.params.id).orderBy("createdAt","desc").limit(9).get().then(function(e){return e.docs.map(function(e){return e.data()})});case 3:return n=e.sent,d(n),e.next=7,l.where("owner","==",t.params.id).orderBy("createdAt","desc").limit(1).get().then(function(e){return e.docs.map(function(e){return e.data()})});case 7:c=e.sent,b(c[0].url);case 9:case"end":return e.stop()}},e)})),[]),n.createElement("div",{className:"general-container"},n.createElement("div",{className:"profile-banner"},n.createElement("div",{className:"settings"},n.createElement(Ve,null)),n.createElement(L.a,{className:"avatar",alt:"Remy Sharp",src:h,sx:{width:200,height:200}}),n.createElement("div",{className:"description"}," ",c&&s?n.createElement("div",null,n.createElement("h1",null,c.firstname,n.createElement(Pe.a,null,"Hire")," ",n.createElement(Pe.a,{variant:"light"},"Follow")," ")):n.createElement("div",null))),n.createElement(P.a,{style:{margin:"20px 150px 0 20px",textAlign:"center"},sx:{width:"97vw",height:"100vh"}},n.createElement(Ie.a,{variant:"masonry",cols:3,gap:20},s.map(function(e){return n.createElement(Fe.a,{key:e.id},n.createElement("img",{src:"".concat(e.url),srcSet:"".concat(e.url),alt:e.story,loading:"lazy"}))}))))},qe=(a(337),function(){var e=Object(i.g)(),t=Object(m.c)(function(e){return e.auth}),a=U.a.firestore().collection("images"),n=U.a.firestore().collection("profile pictures"),l=Q("images").docs,c=r.a.useState(""),o=Object(u.a)(c,2),s=o[0],d=o[1],E=r.a.useState([]),g=Object(u.a)(E,2),h=g[0],b=g[1],v=r.a.useState(""),y=Object(u.a)(v,2),O=y[0],w=y[1],S=r.a.useState(""),j=Object(u.a)(S,2);j[0],j[1];return r.a.useEffect(Object(f.a)(p.a.mark(function r(){var l,c;return p.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:if(!t||!t.user){r.next=17;break}return d("Loading..."),r.next=4,a.where("likes","array-contains",t.user._id).get().then(function(e){return e.docs.map(function(e){return e.id})});case 4:return l=r.sent,console.log("hit",l),d(JSON.stringify(l,null,4)),b(l),console.log(s),r.next=11,n.where("owner","==",t.user._id).orderBy("createdAt","desc").limit(1).get().then(function(e){return e.docs.map(function(e){return e.data()})});case 11:c=r.sent,console.log(c),w(c[0].url),console.log(O),r.next=18;break;case 17:e.push("/login");case 18:case"end":return r.stop()}},r)})),[]),r.a.createElement("div",null,t&&t.user&&l&&h&&O?r.a.createElement("div",null," ",r.a.createElement("div",{style:{marginLeft:"80vw"}}," "),r.a.createElement("div",{className:"banner"},r.a.createElement("div",{className:"text"},r.a.createElement("h2",null," Our Users Upload ART")," ",r.a.createElement("br",null),r.a.createElement("h4",null,"  Every single day.",r.a.createElement("br",null)," Join and share your work! "))),r.a.createElement("div",{className:"gallery-container"},r.a.createElement("h1",null," Our Community is Creative !"),r.a.createElement("div",{className:"gallery"},l?l.map(function(e){return r.a.createElement(te,{key:e.id,posts:e,likedPhotos:h,display:!0})}):r.a.createElement("div",null)," ",r.a.createElement("br",null)))):r.a.createElement("div",null))}),Qe=a(231),Ze=(a(338),[{field:"_id",headerName:"ID",width:70},{field:"firstName",headerName:"First name",width:130},{field:"email",headerName:"Email",width:130},{field:"role",headerName:"Role",type:"number",width:90},{field:"isBanned",headerName:"Ban State",width:160}]),Xe=function(){var e=Object(m.b)(),t=Object(m.c)(function(e){return e.users.allusers}),a=Object(m.c)(function(e){return e.auth});return Object(n.useEffect)(function(){t&&(e(Le()),console.log("users",t))},[]),r.a.createElement("div",null,t&&a?r.a.createElement("div",null,"Admin",r.a.createElement("div",{style:{height:400,width:"100vw"}},r.a.createElement(Qe.a,{rows:t,columns:Ze,pageSize:5,rowsPerPageOptions:[5],checkboxSelection:!0}))):r.a.createElement("div",null))},$e=(a(339),function(){return r.a.createElement("div",{className:"portfolio"},r.a.createElement("h1",null,"Your Work "),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement(te,null))}),et=a(238),tt=function(e){var t=e.component,a=Object(et.a)(e,["component"]),n=Object(m.c)(function(e){return e.auth});return r.a.createElement(i.b,Object.assign({},a,{render:function(e){return n.isAuth?r.a.createElement(t,e):r.a.createElement(i.a,{to:"/login"})}}))};var at=function(){return r.a.createElement(o.a,null,r.a.createElement(i.d,null,r.a.createElement(i.b,{exact:!0,path:"/",component:_e}),r.a.createElement(tt,{exact:!0,path:"/admin",component:Xe}),r.a.createElement(tt,{exact:!0,path:"/samples",component:qe}),r.a.createElement(i.b,{exact:!0,path:"/login",component:R}),r.a.createElement(i.b,{exact:!0,path:"/register",component:T}),r.a.createElement(tt,{exact:!0,path:"/profile",component:me}),r.a.createElement(tt,{exact:!0,path:"/profile/:id",render:function(e){return r.a.createElement(Ke,e)}}),r.a.createElement(tt,{exact:!0,path:"/edit/post/:id",render:function(e){return r.a.createElement(Te,e)}}),r.a.createElement(i.b,{exact:!0,path:"/addphoto",component:xe}),r.a.createElement(i.b,{exact:!0,path:"/portfolio",component:$e})))},nt=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,454)).then(function(t){var a=t.getCLS,n=t.getFID,r=t.getFCP,l=t.getLCP,c=t.getTTFB;a(e),n(e),r(e),l(e),c(e)})},rt=a(113),lt=a(233),ct=a(114),ot={errors:null,isLoading:{state:!1}},it=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ot,t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.payload;switch(a){case ct.START_LOADING:return Object(s.a)({},e,{isLoading:{state:!0,ref:n}});case ct.STOP_LOADING:return Object(s.a)({},e,{isLoading:{state:!1}});case ct.SET_ERROR:return Object(s.a)({},e,{errors:n});case ct.CLEAR_ERROR:return Object(s.a)({},e,{errors:null});default:return e}},st={token:localStorage.getItem("token"),isAuth:Boolean(localStorage.getItem("isAuth")),user:JSON.parse(localStorage.getItem("user"))},ut=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:st,t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.payload;switch(a){case"REGISTER_SUCCESS":case"LOGIN_SUCCESS":return localStorage.setItem("token",n.token),localStorage.setItem("isAuth",!0),Object(s.a)({},e,{isAuth:!0,token:n.token});case"GET_PROFILE_SUCCESS":return localStorage.setItem("user",JSON.stringify(n)),Object(s.a)({},e,{user:n});case"LOGOUT":return localStorage.clear(),Object(s.a)({},e,{isAuth:!1,user:null,token:null,users:null});default:return e}},mt={allusers:localStorage.getItem("users")?JSON.parse(localStorage.getItem("user")):[]},dt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:mt,t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.payload;switch(a){case"GET_USERS_SUCCESS":return Object(s.a)({},e,{allusers:n});default:return e}},pt=Object(rt.combineReducers)({auth:ut,appState:it,users:dt}),ft=a(234),Et=Object(rt.createStore)(pt,Object(ft.composeWithDevTools)(Object(rt.applyMiddleware)(lt.a)));c.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(m.a,{store:Et},r.a.createElement(at,null))),document.getElementById("root")),nt()}},[[281,1,2]]]);
//# sourceMappingURL=main.90615a56.chunk.js.map